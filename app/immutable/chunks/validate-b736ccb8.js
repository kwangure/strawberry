import{O as i}from"./index-9f7629f3.js";function c(r,f,s){if(r.disabled)return"";if(r.validity.valid){const o=f(r);let t="";o&&(t=s(o,r)||"The value you entered for this field is invalid."),r.setCustomValidity(t)}return r.validationMessage}function v(r,f){const s=()=>"";let{invalid:o=s,error:t=s,errorMessage:n}=f;function l(){const e=c(r,o,t);return n.set(e),Boolean(e)}const a=[];return i(r,"blur",()=>{a.push(i(r,"input",l))},{once:!0}),a.push(i(r,"blur",l)),a.push(i(r,"invalid",e=>{e.preventDefault(),l(),r.form?r.form.querySelector(":invalid").focus():r.focus()})),r.form&&a.push(i(r.form,"submit",e=>{l()&&e.preventDefault()})),{update(e){({invalid:o=s,error:t=s}=e)},destroy(){a.forEach(e=>e())}}}export{v};
