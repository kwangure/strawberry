import{P as i}from"./index-8333b970.js";function f(e,s,a){if(e.disabled)return;const o=s(e);let r="";o&&(r=a(o,e)||"The value you entered for this field is invalid."),e.setCustomValidity(r)}function b(e,s){const a=()=>"";let{invalid:o=a,error:r=a}=s;const n=[i(e,"blur",l,{capture:!0}),i(e,"invalid",u,{capture:!0}),e.form?i(e.form,"submit",c,{capture:!0}):a];i(e,"blur",()=>{n.push(i(e,"input",l,{capture:!0}))},{once:!0});function l(){f(e,o,r);const t=new CustomEvent("validate",{bubbles:!0,detail:{validationMessage:e.validationMessage}});e.dispatchEvent(t)}function d(t){t.querySelector(":invalid").focus()}function u(t){l(),t.preventDefault(),e.form?d(e.form):e.focus()}function c(t){l(),e.validationMessage&&(t.preventDefault(),d(e.form))}return{update(t){({invalid:o=a,error:r=a}=t)},destroy(){n.forEach(t=>t())}}}export{b as v};
