import{S as H,i as I,s as K,B as L,k as E,l as q,m as C,h as v,n as b,C as y,b as N,D as P,E as Q,F as R,G as T,H as J,f as U,t as W,a7 as X,K as x,a4 as F}from"./index-50a5c4be.js";const Y=s=>({context:s&4}),S=s=>({context:s[2]});function Z(s){let t,n,c,f,h;const i=s[10].default,l=L(i,s,s[9],S);return{c(){t=E("dialog"),n=E("form"),l&&l.c(),this.h()},l(o){t=q(o,"DIALOG",{inert:!0,class:!0});var a=C(t);n=q(a,"FORM",{method:!0,class:!0});var g=C(n);l&&l.l(g),g.forEach(v),a.forEach(v),this.h()},h(){b(n,"method","dialog"),b(n,"class","svelte-j0qvlk"),b(t,"inert",""),b(t,"class","svelte-j0qvlk"),y(t,"modal",s[3]),y(t,"non-modal",!s[3])},m(o,a){N(o,t,a),P(t,n),l&&l.m(n,null),s[11](n),s[12](t),c=!0,f||(h=Q(s[4].call(null,t)),f=!0)},p(o,[a]){l&&l.p&&(!c||a&516)&&R(l,i,o,o[9],c?J(i,o[9],a,Y):T(o[9]),S),a&8&&y(t,"modal",o[3]),a&8&&y(t,"non-modal",!o[3])},i(o){c||(U(l,o),c=!0)},o(o){W(l,o),c=!1},d(o){o&&v(t),l&&l.d(o),s[11](null),s[12](null),f=!1,h()}}}function $(s,t,n){let{$$slots:c={},$$scope:f}=t;const h=X();let{context:i=void 0}=t;function l(e){r.close(e)}const o=a;function a(e){n(3,w=!1),r.showModal(),M(e)}const g=V;function V(e){n(3,w=!0),r.showModal(),M(e)}let r,d,k=i,w=!1;function j(e){console.log({form:d,formdata:new FormData(d)}),h(e,{returnValue:r.returnValue,formData:new FormData(d)})}function M(e={}){var p,m;n(2,k=(p=e.target)==null?void 0:p.value),r.removeAttribute("inert");const _=r.querySelector("[autofocus]");_?_.focus():(m=r.querySelector("button"))==null||m.focus(),j("open")}function A(e){const _=[],p=Array.prototype.push.bind(_),m=e.firstElementChild;function D(u){h(u,{returnValue:e.returnValue,formData:new FormData(m)})}function G(u){e.close(u),m.reset(),n(2,k=i)}return p(x(e,"click",u=>{w||!e.isSameNode(u.target)||(x(document,"close",z=>{z.stopPropagation()},{once:!0,capture:!0}),G(""),D("cancel"),D("close"))})),p(x(e,"close",()=>{D("close")})),{destroy(){var u;for(;_.length;)(u=_.pop())==null||u()}}}function B(e){F[e?"unshift":"push"](()=>{d=e,n(1,d)})}function O(e){F[e?"unshift":"push"](()=>{r=e,n(0,r)})}return s.$$set=e=>{"context"in e&&n(5,i=e.context),"$$scope"in e&&n(9,f=e.$$scope)},[r,d,k,w,A,i,l,o,g,f,c,B,O]}class oe extends H{constructor(t){super(),I(this,t,$,Z,K,{context:5,close:6,show:7,showModal:8})}get close(){return this.$$.ctx[6]}get show(){return this.$$.ctx[7]}get showModal(){return this.$$.ctx[8]}}export{oe as D};
